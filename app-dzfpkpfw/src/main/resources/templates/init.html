<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>初始化</title>
		<link rel="stylesheet" type="text/css" href="./assets/bootstrap/dist/css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="./assets/font-awesome/css/font-awesome.min.css"/>
		<link rel="stylesheet" type="text/css" href="./css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="./css/index.css"/>
		<link rel="stylesheet" type="text/css" href="./assets/element-ui/element.min.css"/>
		<script src="./assets/jquery-1.12.0.js" type="text/javascript" charset="utf-8"></script>
		<script src="./assets/bootstrap/dist/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./assets/vue/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./assets/element-ui/element.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./js/init.js" type="text/javascript" charset="utf-8"></script>
	    <script src="./js/methods.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div class="container"  >
			<header class="c_header" id="app2">
				<div class="col-lg-12">
					<h3>SVN管理系统</h3>
				</div>
			</header>
			<section class="c_section">
				<h2 >初始化</h2>
				<form action="init" method="post">
					<table>
						<tr>
							<td>svn.passwd地址：</td>
							<td><input type="text" name="svnPasswd" value=""></td>
						</tr>
						<tr>
							<td>svn.authz地址：</td>
							<td><input type="text" name="svnAuthz" value=""></td>
						</tr>
						<tr>
							<td>管理员账号：</td>
							<td><input type="text" name="adminUserName" value=""></td>
						</tr>
						<tr>
							<td>管理员密码：</td>
							<td><input type="password" name="adminPassword" value=""></td>
						</tr>
						<tr>
							<td colspan="2"><input type="submit" value="提交"></td>
						</tr>
					</table>
				</form>
			</section>			
		</div>
	</body>
	
	<script type="text/javascript">
		var app = new Vue({
	        el: '#app2',
	        data(){	
	        	var validatePass3 = (rule, value, callback) => {
			        if (value === '') {
			          callback(new Error('请输入当前密码'));
			        } else {
			          if (this.ruleForm.passWord !== '') {
			            //this.$refs.ruleForm.validateField('passWord');
			          }
			          callback();
			        }
			    };
			    var validatePass1 = (rule, value, callback) => {
			        if (value === '') {
			          callback(new Error('请输入新密码'));
			        } else {
			          if (this.ruleForm.new_psw !== '') {
			            //this.$refs.ruleForm.validateField('new_psw');
			          }
			          callback();
			        }
			    };
			    var validatePass2 = (rule, value, callback) => {
			        if (value === '') {
			          callback(new Error('请再次输入新密码'));
			        } else if (value !== this.ruleForm.newPassWord) {
			          callback(new Error('两次输入密码不一致!'));
			        } else {
			          callback();
			        }
			    };
			    return {
		        	changePassword:false,
		        	ruleForm:{
		        		passWord:'',
		        		new_psw:'',
		        		newPassWord:''
		        	},
		        	pwdRules: {
			          passWord: [
			            { validator: validatePass3, trigger: 'blur' }
			          ],
			          new_psw: [
			            { validator: validatePass1, trigger: 'blur' }
			          ],
			          newPassWord: [
			            { validator: validatePass2, trigger: 'blur' }
			          ]
			        },
		      };
		        
	        },			
	        mounted(){
	        },
	        methods: {
				submitForm(){},
				resetForm(formName) {
			        this.$refs[formName].resetFields();
			   },
	        },
	
	    });

	
	</script>
</html>
